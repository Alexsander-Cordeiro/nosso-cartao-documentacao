# Não pode haver mais de uma proposta para o mesmo solicitante

## Objetivo

Criamos o fluxo de geração de proposta, porém nosso cliente solicitou uma alteração, na qual é adicionar uma nova 
validação na qual não podemos permitir que tenha duas propostas para o mesmo solicitante, ou seja, para o mesmo 
CNPJ ou CPF.

#### Resultado Esperado

Não podemos permitir que tenha duas propostas para o mesmo solicitante, ou seja, para o mesmo 
CNPJ ou CPF.

- Devemos retornar o status code **422**, quando o solicitante ja requisitou uma proposta.
- Permitir a criação de uma proposta, caso o solicitante não tenha nenhuma outra.

## Informações de suporte

Para este cenário em questão, talvez precisamos acessar nossa base de dados, para isto o Spring tem o projeto 
Spring Data JPA, quer saber mais? [Aqui você encontra como fazer isso !!!](../informacao_suporte/spring-data.md)

Ficou muito claro o que é o Spring Data JPA, como eu configuro o mesmo? [Aqui você encontra como fazer isso !!!](../informacao_suporte/spring-data-configuration.md)

Como mapear minha entidade proposta utilizando Spring Data JPA? [Aqui você encontra como fazer isso !!!](../informacao_suporte/spring-data-entity.md)

Como declarar meu repositório da proposta utilizando Spring Data JPA? [Aqui você encontra como fazer isso !!!](../informacao_suporte/spring-data-repository.md)

Como criar consultas das minhas propostas utilizando Spring Data JPA? [Aqui você encontra como fazer isso !!!](../informacao_suporte/spring-data-query-methods.md)

Como retornar um HTTP status code no Spring? [Aqui você encontra como fazer isso !!!](../informacao_suporte/spring-response-entity.md)

Por que **422** no retorno dessa chamada? [Aqui você encontra como fazer isso !!!](../informacao_suporte/rest-422.md)